stages: # List of stages for jobs, and their order of execution
  - build
  - test

build-job: # This job runs in the build stage.
  stage: build
  image: registry.gitlab.com/Bonomgp/Start-wars
  script:
    - yarn install
    - yarn build
    - yarn start &
  when: always

test-job: # This job runs in the test stage.
  stage: test
  image: registry.gitlab.com/Bonomgp/Start-wars
  script:
    - robot -d results --variable browser:chrome --xunit xunit_report.xml tests/
  artifacts:
    reports:
      junit: results/xunit_report.xml
  when: always
